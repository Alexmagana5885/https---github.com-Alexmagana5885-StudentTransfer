<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Selection</title>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Assuming you have a variable 'schools' containing the list of schools in JSON format
            // You should fetch this data from your server/database
            var schools = [
                {"school_name": "School A", "county": "County A", "subcounty": "Subcounty A"},
                {"school_name": "School B", "county": "County A", "subcounty": "Subcounty A"},
                {"school_name": "School C", "county": "County B", "subcounty": "Subcounty B"},
                // Add more schools as needed
            ];

            var selectCounty = document.getElementById('selectCountyI');
            var selectSubCounty = document.getElementById('selectSubCountyI');
            var schoolList = document.getElementById('schoolList');

            function updateSchools() {
                // Get the selected county and subcounty
                var selectedCounty = selectCounty.value;
                var selectedSubCounty = selectSubCounty.value;

                // Filter schools based on the selected county and subcounty
                var filteredSchools = schools.filter(function (school) {
                    return school.county === selectedCounty && school.subcounty === selectedSubCounty;
                });

                // Display the filtered schools
                displaySchools(filteredSchools);
            }

            function displaySchools(schools) {
                // Clear the current school list
                schoolList.innerHTML = '';

                // Display each school in the list
                schools.forEach(function (school) {
                    var option = document.createElement('option');
                    option.text = school.school_name;
                    option.value = school.school_name;
                    schoolList.add(option);
                });
            }

            // Attach the updateSchools function to the change event of county and subcounty select elements
            selectCounty.addEventListener('change', updateSchools);
            selectSubCounty.addEventListener('change', updateSchools);
        });
    </script>
</head>
<body>
    <div class="wrapper">
        <h2>Intended School</h2>

        <label class="label">Select County</label>
        <select name="county" class="textarea" id="selectCountyI">
            <!-- Populate counties here -->
        </select>

        <label class="label">Select Subcounty</label>
        <select class="textarea" name="Subcounty" id="selectSubCountyI">
            <!-- Populate subcounties here -->
        </select>

        <label class="label">Available Schools</label>
        <select name="selectedSchool" class="textarea" id="schoolList">
            <!-- Schools will be populated dynamically using JavaScript -->
        </select>
    </div>
</body>
</html>

`schoolreg`(`id`, `level_of_school`, `school_name`, `county`, `subcounty`, `registration_number`, `password`, `gender_accepted`, `mode_of_schooling`, `email_address`, `phone_number`, `address`, `postal_code`, `school_fees`, `diet_type`, `medical_facility`)
"county": ["school_name", "school_name",......],